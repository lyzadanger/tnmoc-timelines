<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <!-- Turning off zooming for now -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="css/base.css" />
  <title>Timelines</title>
  <script src="lib/js/modernizr.custom.js"></script>
</head>
<body>
  <div id="masthead">
    <div id="menu">
      <ul>
        <li><a href="https://docs.google.com/spreadsheet/pub?key=0AtTdKRbUS8FPdHFINjJLZW1EVDVEaVNEVHZzdmUxLUE&output=html" data-timeline>Gaming</a></li>
        <li><a href="https://docs.google.com/spreadsheet/pub?key=0AtTdKRbUS8FPdEZRazBTM3hILUZudHVPWjVDSEpPS1E&output=html" data-timeline>Systems</a></li>
        <li><a href="https://docs.google.com/spreadsheet/pub?key=0AtTdKRbUS8FPdHp0LUljVWt5c3U4Y3BQbWEwT08xLWc&output=html" data-timeline>Hardware</a></li>
      </ul>
    </div>
    <div id="menu-trigger"><a href="#menu">Timelines</a></div>
  </div>
  <!-- BEGIN Timeline Embed -->
  <div id="timeline-embed"></div>
  <script type="text/javascript" src="lib/js/storyjs-embed.js"></script>
  <!-- END Timeline Embed-->
  
<!-- TODO CONCAT THIS SHIT -->
<script src="lib/js/underscore-1.5.2.min.js"></script>
<script src="lib/js/fastclick.js"></script>
<script src="lib/js/jquery-1.9.1.min.js"></script>
<script src="lib/js/jquery.csswatch.js"></script>
<script src="lib/js/jquery.offcanvasmenu.js"></script>
<script src="lib/js/menu.responsive.js"></script>
<script>
  // Instantiate the first timeline
  $(document).ready(function() {
    // TODO: var for source of current timeline
    // so that we don't load the same timeline on top of itself
    function initTimeline(options) {
      options = _.extend({
        css: "css/timeline.css",
        js: "lib/js/timeline-min.js",
        width: "100%",
        height: "90%",
        debug: false
      }, options || {});
      createStoryJS(options);
    }
    // Initialize another timeline from a click/tap
    function timelineFromElement(event) {
      var source;
      event.preventDefault();
      $('#timeline-embed').html("");
      delete(VMM.Timeline);
      source = $(event.target).attr('href');
      initTimeline({source: source});
    }
    initTimeline({ source: 'https://docs.google.com/spreadsheet/pub?key=0AtTdKRbUS8FPdENXNkxmWjdLZkp6UWk4RzMzTS1SM3c&output=html' });
    $('[data-timeline]').click(timelineFromElement);
  });
</script>
</body>
</html>